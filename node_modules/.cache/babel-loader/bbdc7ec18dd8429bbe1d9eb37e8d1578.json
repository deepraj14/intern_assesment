{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\Admin\\\\Downloads\\\\ships-forked\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"C:\\\\Users\\\\Admin\\\\Downloads\\\\ships-forked\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\Admin\\\\Downloads\\\\ships-forked\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Admin\\\\Downloads\\\\ships-forked\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\Admin\\\\Downloads\\\\ships-forked\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _templateObject,\n    _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Downloads\\\\ships-forked\\\\src\\\\App.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport \"./styles.css\";\nimport gql from \"graphql-tag\";\nimport request from \"./utils/request\";\nimport Shipcard from \"./shipcard\";\nimport './App.css';\nexport default function App() {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      val = _useState2[0],\n      setVal = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      count = _useState4[0],\n      setCount = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      search = _useState6[0],\n      setSearch = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      autocomplete = _useState8[0],\n      setAutocomplete = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      permanent = _useState10[0],\n      setPermanent = _useState10[1];\n\n  var fetchShips = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return request(gql(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      {\\n        ships {\\n          name\\n          home_port\\n          image\\n        }\\n      }\\n    \"]))));\n\n            case 2:\n              response = _context.sent;\n              setVal(response.data.ships);\n              setPermanent(response.data.ships);\n              setCount(response.data.ships.length);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchShips() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var filterfun = function filterfun(item) {\n    console.log('function runned with value', item);\n    var temp = permanent.filter(function (x) {\n      return x.home_port === item;\n    });\n    console.log(temp);\n    setVal(temp);\n    setCount(temp.length);\n  };\n\n  var recommender = function recommender(searchitem) {\n    setSearch(searchitem);\n    var curr = val.filter(function (x) {\n      var count = 0;\n\n      for (var a = 0; a < searchitem.length; a++) {\n        if (searchitem[a] === x.home_port[a] || searchitem[a].toUpperCase() === x.home_port[a]) {\n          count++;\n        }\n      }\n\n      if (count === searchitem.length) {\n        return x;\n      }\n    });\n\n    var unique = _toConsumableArray(new Set(curr.map(function (currele) {\n      return currele.home_port;\n    })));\n\n    console.log('val of unique is', unique);\n    setAutocomplete(unique);\n  };\n\n  useEffect(function () {\n    fetchShips();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    placeholder: \"Search Ships\",\n    onChange: function onChange(e) {\n      if (e.target.value) {\n        recommender(e.target.value);\n      } else {\n        setAutocomplete([]);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dropbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, autocomplete.map(function (x) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rowbox\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 37\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropelement\",\n      onClick: function onClick() {\n        filterfun(x);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 62\n      }\n    }, \" \", x));\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"submit\",\n    type: \"submit\",\n    onClick: function onClick() {\n      filterfun(search);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, \"search\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"count\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, \"Count of Ships:\", count), val.map(function (x) {\n    return /*#__PURE__*/React.createElement(Shipcard, {\n      name: x.name,\n      image: x.image,\n      homport: x.home_port,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 12\n      }\n    });\n  }));\n}","map":{"version":3,"sources":["C:/Users/Admin/Downloads/ships-forked/src/App.js"],"names":["React","useEffect","useState","gql","request","Shipcard","App","val","setVal","count","setCount","search","setSearch","autocomplete","setAutocomplete","permanent","setPermanent","fetchShips","response","data","ships","length","filterfun","item","console","log","temp","filter","x","home_port","recommender","searchitem","curr","a","toUpperCase","unique","Set","map","currele","e","target","value","name","image"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./styles.css\";\nimport gql from \"graphql-tag\";\nimport request from \"./utils/request\";\nimport Shipcard from \"./shipcard\";\nimport './App.css'\n\nexport default function App() {\n  const[val,setVal]=useState([]);\n  const[count,setCount]=useState(0);\n  const[search,setSearch]=useState(\"\");\n  const[autocomplete,setAutocomplete]=useState([]);\n  const[permanent,setPermanent]=useState([]);\n\n\n  const fetchShips = async () => {\n    const response = await request(gql`\n      {\n        ships {\n          name\n          home_port\n          image\n        }\n      }\n    `);\n\n    setVal(response.data.ships);\n    setPermanent(response.data.ships);\n    setCount(response.data.ships.length)\n    \n  };\n\n  const filterfun=function(item)\n  {\n    console.log('function runned with value',item)\n    \n    const temp=permanent.filter((x)=>{return x.home_port===item})\n     console.log(temp)\n     setVal(temp)\n\n    setCount(temp.length)\n  }\n\n  const recommender=function(searchitem)\n  {\n    \n    setSearch(searchitem)\n   \n    const curr=val.filter((x)=>{\n      let count=0;\n      for(let a=0;a<searchitem.length;a++){\n        if(searchitem[a]===x.home_port[a] || searchitem[a].toUpperCase() ===x.home_port[a])\n        {\n          count++;\n        }\n        }\n        if(count===searchitem.length)\n        {\n        return x;\n        }\n    })\n    const unique= [\n    \n      ...new Set(curr.map((currele)=>{\n      return currele.home_port;\n    }))]\n    console.log('val of unique is',unique)\n    setAutocomplete(unique);\n\n  }\n\n  \n\n  useEffect(() => {\n    fetchShips();\n  },[]);\n\n  return (\n    <div className=\"App\">\n      \n      <input type=\"text\"\n      className=\"input\"\n      placeholder=\"Search Ships\"\n      onChange={(e)=>{if(e.target.value){recommender(e.target.value)}else{setAutocomplete([])}}}\n      />\n      \n      <div className=\"dropbox\">\n      {autocomplete.map((x)=>{return<div className=\"rowbox\"> <div className=\"dropelement\" onClick={()=>{filterfun(x)}}> {x}</div></div>})}\n      </div>\n      \n      <button className=\"submit\" type=\"submit\" onClick={()=>{filterfun(search)}}>search</button>\n      <p className=\"count\">Count of Ships:{count}</p>\n     { val.map((x)=>{\n    return <Shipcard name={x.name} image={x.image} homport={x.home_port}/>\n     })}\n      \n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}