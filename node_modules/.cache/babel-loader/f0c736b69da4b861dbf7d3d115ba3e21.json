{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Admin\\\\Downloads\\\\ships-forked\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\Admin\\\\Downloads\\\\ships-forked\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Admin\\\\Downloads\\\\ships-forked\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\Admin\\\\Downloads\\\\ships-forked\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _templateObject,\n    _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Downloads\\\\ships-forked\\\\src\\\\App.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport \"./styles.css\";\nimport gql from \"graphql-tag\";\nimport request from \"./utils/request\";\nimport Shipcard from \"./shipcard\";\nimport './App.css';\nexport default function App() {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      val = _useState2[0],\n      setVal = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      count = _useState4[0],\n      setCount = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      search = _useState6[0],\n      setSearch = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      autocomplete = _useState8[0],\n      setAutocomplete = _useState8[1];\n\n  var fetchShips = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return request(gql(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      {\\n        ships {\\n          name\\n          home_port\\n          image\\n        }\\n      }\\n    \"]))));\n\n            case 2:\n              response = _context.sent;\n              setVal(response.data.ships);\n              setCount(response.data.ships.length);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchShips() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var filterfun = function filterfun(item) {\n    var temp = val.filter(function (x) {\n      return x.home_port === item;\n    });\n    setVal(temp);\n    setCount(temp.length);\n  };\n\n  var recommender = function recommender(searchitem) {\n    var curr = val.filter(function (x) {\n      var count = 0;\n\n      for (var a = 0; a < searchitem.length; a++) {\n        if (searchitem[a] === x.home_port[a]) {\n          count++;\n        }\n      }\n\n      if (count === searchitem.length) {\n        return x;\n      }\n    });\n  };\n\n  useEffect(function () {\n    fetchShips();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    placeholder: \"Search Ships\",\n    onChange: function onChange(e) {\n      setSearch(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"submit\",\n    type: \"submit\",\n    onClick: function onClick() {\n      filterfun(search);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, \"search\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"count\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, \"Count of Ships:\", count), val.map(function (x) {\n    return /*#__PURE__*/React.createElement(Shipcard, {\n      name: x.name,\n      image: x.image,\n      homport: x.home_port,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 12\n      }\n    });\n  }));\n}","map":{"version":3,"sources":["C:/Users/Admin/Downloads/ships-forked/src/App.js"],"names":["React","useEffect","useState","gql","request","Shipcard","App","val","setVal","count","setCount","search","setSearch","autocomplete","setAutocomplete","fetchShips","response","data","ships","length","filterfun","item","temp","filter","x","home_port","recommender","searchitem","curr","a","e","target","value","map","name","image"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./styles.css\";\nimport gql from \"graphql-tag\";\nimport request from \"./utils/request\";\nimport Shipcard from \"./shipcard\";\nimport './App.css'\n\nexport default function App() {\n  const[val,setVal]=useState([]);\n  const[count,setCount]=useState(0);\n  const[search,setSearch]=useState(\"\");\n  const[autocomplete,setAutocomplete]=useState([]);\n\n\n  const fetchShips = async () => {\n    const response = await request(gql`\n      {\n        ships {\n          name\n          home_port\n          image\n        }\n      }\n    `);\n\n    setVal(response.data.ships);\n    setCount(response.data.ships.length)\n    \n  };\n\n  const filterfun=function(item)\n  {\n    const temp=val.filter((x)=>{return x.home_port===item})\n    setVal(temp)\n    setCount(temp.length)\n  }\n\n  const recommender=function(searchitem)\n  {\n    const curr=val.filter((x)=>{\n      let count=0;\n      for(let a=0;a<searchitem.length;a++){\n        if(searchitem[a]===x.home_port[a])\n        {\n          count++;\n        }\n        }\n        if(count===searchitem.length)\n        {\n        return x;\n        }\n    })\n\n  }\n\n  \n\n  useEffect(() => {\n    fetchShips();\n  },[]);\n\n  return (\n    <div className=\"App\">\n      \n      <input type=\"text\"\n      className=\"input\"\n      placeholder=\"Search Ships\"\n      onChange={(e)=>{setSearch(e.target.value)}}\n      />\n      <button className=\"submit\" type=\"submit\" onClick={()=>{filterfun(search)}}>search</button>\n      <p className=\"count\">Count of Ships:{count}</p>\n     { val.map((x)=>{\n    return <Shipcard name={x.name} image={x.image} homport={x.home_port}/>\n     })}\n      \n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}