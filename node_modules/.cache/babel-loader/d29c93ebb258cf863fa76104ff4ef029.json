{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\Admin\\\\Downloads\\\\ships-forked\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"C:\\\\Users\\\\Admin\\\\Downloads\\\\ships-forked\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\Admin\\\\Downloads\\\\ships-forked\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Admin\\\\Downloads\\\\ships-forked\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\Admin\\\\Downloads\\\\ships-forked\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _templateObject,\n    _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Downloads\\\\ships-forked\\\\src\\\\App.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport \"./styles.css\";\nimport gql from \"graphql-tag\";\nimport request from \"./utils/request\";\nimport Shipcard from \"./shipcard\";\nimport './App.css';\nexport default function App() {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      val = _useState2[0],\n      setVal = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      count = _useState4[0],\n      setCount = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      search = _useState6[0],\n      setSearch = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      autocomplete = _useState8[0],\n      setAutocomplete = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      permanent = _useState10[0],\n      setPermanent = _useState10[1];\n\n  var fetchShips = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return request(gql(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      {\\n        ships {\\n          name\\n          home_port\\n          image\\n        }\\n      }\\n    \"]))));\n\n            case 2:\n              response = _context.sent;\n              setVal(response.data.ships);\n              setPermanent(response.data.ships);\n              setCount(response.data.ships.length);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchShips() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var filterfun = function filterfun(item) {\n    document.getElementById(\"inp\").value = item;\n    setAutocomplete([]);\n    var temp = permanent.filter(function (x) {\n      return x.home_port === item;\n    });\n    console.log(temp);\n    setVal(temp);\n    setCount(temp.length);\n  };\n\n  var recommender = function recommender(searchitem) {\n    setSearch(searchitem);\n    var curr = permanent.filter(function (x) {\n      var count = 0;\n\n      for (var a = 0; a < searchitem.length; a++) {\n        if (searchitem[a] === x.home_port[a] || searchitem[a].toUpperCase() === x.home_port[a]) {\n          count++;\n        }\n      }\n\n      if (count === searchitem.length) {\n        return x;\n      }\n    });\n\n    var unique = _toConsumableArray(new Set(curr.map(function (currele) {\n      return currele.home_port;\n    })));\n\n    console.log('val of unique is', unique);\n    setAutocomplete(unique);\n  };\n\n  useEffect(function () {\n    fetchShips();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchbarflex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchbar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"inp\",\n    className: \"input\",\n    placeholder: \"Search Ships\",\n    onChange: function onChange(e) {\n      if (e.target.value) {\n        recommender(e.target.value);\n      } else {\n        setAutocomplete([]);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"submit\",\n    type: \"submit\",\n    onClick: function onClick() {\n      filterfun(search);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fa fa-search\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 82\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dropbox\",\n    id: \"drpbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, autocomplete.map(function (x) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rowbox\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 37\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropelement\",\n      onClick: function onClick() {\n        filterfun(x);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 62\n      }\n    }, \" \", x));\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"count\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, \"TOTAL COUNT:\", count), val.map(function (x) {\n    return /*#__PURE__*/React.createElement(Shipcard, {\n      name: x.name,\n      image: x.image,\n      homport: x.home_port,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 12\n      }\n    });\n  }));\n}","map":{"version":3,"sources":["C:/Users/Admin/Downloads/ships-forked/src/App.js"],"names":["React","useEffect","useState","gql","request","Shipcard","App","val","setVal","count","setCount","search","setSearch","autocomplete","setAutocomplete","permanent","setPermanent","fetchShips","response","data","ships","length","filterfun","item","document","getElementById","value","temp","filter","x","home_port","console","log","recommender","searchitem","curr","a","toUpperCase","unique","Set","map","currele","e","target","name","image"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./styles.css\";\nimport gql from \"graphql-tag\";\nimport request from \"./utils/request\";\nimport Shipcard from \"./shipcard\";\nimport './App.css'\n\nexport default function App() {\n  const[val,setVal]=useState([]);\n  const[count,setCount]=useState(0);\n  const[search,setSearch]=useState(\"\");\n  const[autocomplete,setAutocomplete]=useState([]);\n  const[permanent,setPermanent]=useState([]);\n\n\n  const fetchShips = async () => {\n    const response = await request(gql`\n      {\n        ships {\n          name\n          home_port\n          image\n        }\n      }\n    `);\n\n    setVal(response.data.ships);\n    setPermanent(response.data.ships);\n    setCount(response.data.ships.length)\n    \n  };\n\n  const filterfun=function(item)\n  {\n    \n    document.getElementById(\"inp\").value=item\n     setAutocomplete([]);\n    const temp=permanent.filter((x)=>{return x.home_port===item})\n     console.log(temp)\n     setVal(temp)\n\n    setCount(temp.length)\n  }\n\n  const recommender=function(searchitem)\n  {\n    \n    setSearch(searchitem)\n   \n    const curr=permanent.filter((x)=>{\n      let count=0;\n      for(let a=0;a<searchitem.length;a++){\n        if(searchitem[a]===x.home_port[a] || searchitem[a].toUpperCase() ===x.home_port[a])\n        {\n          count++;\n        }\n        }\n        if(count===searchitem.length)\n        {\n        return x;\n        }\n    })\n    const unique= [\n    \n      ...new Set(curr.map((currele)=>{\n      return currele.home_port;\n    }))]\n    console.log('val of unique is',unique)\n    setAutocomplete(unique);\n\n  }\n\n  \n\n  useEffect(() => {\n    fetchShips();\n  },[]);\n\n  return (\n    <div className=\"App\">\n      \n      <div className=\"searchbarflex\">\n      <div className=\"searchbar\">\n      <input type=\"text\"\n      id=\"inp\"\n      className=\"input\"\n      placeholder=\"Search Ships\"\n      onChange={(e)=>{if(e.target.value){recommender(e.target.value)}else{setAutocomplete([])}}}\n      />\n      <button className=\"submit\" type=\"submit\" onClick={()=>{filterfun(search)}}><i class=\"fa fa-search\" aria-hidden=\"true\"></i></button>\n      </div>\n\n      </div>\n\n      <div className=\"dropbox\" id=\"drpbox\">\n      {autocomplete.map((x)=>{return<div className=\"rowbox\"> <div className=\"dropelement\" onClick={()=>{filterfun(x)}}> {x}</div></div>})}\n      </div>\n      \n\n\n      <p className=\"count\">TOTAL COUNT:{count}</p>\n     { val.map((x)=>{\n    return <Shipcard name={x.name} image={x.image} homport={x.home_port}/>\n     })}\n      \n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}